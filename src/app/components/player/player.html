<div class="player-container">
  <div *ngIf="!track" class="empty-player">
    <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
    </svg>
    <p class="empty-text">Seleciona tu cancion para escuchar</p>
  </div>

  <div *ngIf="track" class="player-content">
    <div class="album-art-container">
      <img 
        [src]="track.albumArt" 
        [alt]="track.album"
        class="album-art"
      />
    </div>

    <div class="track-header">
      <div class="track-details">
        <h1 class="song-title">{{ track.name }}</h1>
        <p class="artist-name">{{ track.artist }}</p>
      </div>
      <button 
        (click)="toggleLike()"
        class="like-button"
        [class.liked]="isLiked"
      >
        <svg 
          class="heart-icon"
          [style.color]="isLiked ? getAccentColor() : '#6b7280'"
          [attr.fill]="isLiked ? 'currentColor' : 'none'"
          stroke="currentColor" 
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg>
      </button>
    </div>

    <div class="progress-section">
      <div class="progress-bar-container">
        <div 
          class="progress-bar"
          [style.width.%]="30"
          [style.background-color]="getAccentColor()"
        ></div>
      </div>
      <div class="progress-time">
        <span>{{ formatTime(track.duration * 0.3) }}</span>
        <span>{{ formatTime(track.duration) }}</span>
      </div>
    </div>

    <div class="controls">
      <button class="control-button">
        <svg class="control-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
      </button>

      <button class="control-button">
        <svg class="control-icon-large" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
        </svg>
      </button>

      <button 
        (click)="togglePlay()"
        class="play-button"
        [style.background-color]="getAccentColor()"
      >
        <svg *ngIf="!isPlaying" class="play-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg *ngIf="isPlaying" class="play-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
        </svg>
      </button>

      <button class="control-button">
        <svg class="control-icon-large" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
        </svg>
      </button>

      <button class="control-button">
        <svg class="control-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
      </button>
    </div>
  </div>
</div>